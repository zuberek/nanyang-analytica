(function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)o=s[d],a[o]&&f.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/nanyang-analytica/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},1:function(t,e){},"1d62":function(t,e,n){},2:function(t,e){},2445:function(t,e,n){var i=n("795b"),a=n("24f8");function r(t){return new i(function(e,n){var i=a.get(t,function(t){if(t.statusCode<200||t.statusCode>=300)return n(new Error("statusCode="+t.statusCode));t.setEncoding("utf8");var i="";t.on("data",function(t){i+=t}),t.on("end",function(){try{i=JSON.parse(i.slice(21,i.length-2))}catch(t){n(t)}e(i)})});i.on("error",function(t){n(t)}),i.end()})}t.exports=r},"2dae":function(t,e,n){"use strict";var i=n("dc9f"),a=n.n(i);a.a},3:function(t,e){},4:function(t,e){},5:function(t,e){},"53bb":function(t,e,n){var i=n("795b"),a={},r={fetch:function(t){return new i(function(e,n){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=t,r.addEventListener("load",function(){e(a)}),i.appendChild(r)})},callback:function(t){a=t}};t.exports=r},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{mobile:t.mobile},attrs:{id:"app"}},[i("div",{staticClass:"top",attrs:{id:"top"}}),i("sidebar",{attrs:{isOpen:t.sidebarOpen,query:t.searchQuery,loadDynamic:t.loadDynamicData,set:t.setSidebarOpen,load:t.loadTwitts,mobile:t.mobile}}),i("img",{staticClass:"logo-lion",attrs:{src:n("9279"),alt:""}}),i("main",{class:{squizzer:!t.sidebarOpen},attrs:{id:"page-wrap"}},[i("div",{staticClass:"container mt-4"},[i("search-bar",{class:{"d-none":t.sidebarOpen},attrs:{query:t.searchQuery,load:t.loadTwitts}}),t.pending?i("div",[i("loader",{staticClass:"whole-page",attrs:{loading:t.pending,text:t.loadingText}})],1):i("twitts",{attrs:{twitts:t.displayedTwitts,loadPage:t.loadPage,info:t.info,sort:t.sortBy,open:t.sidebarOpen,runAI:t.runAI,text:t.pageText}})],1),t._m(0)])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tooltipContent"}},[n("p",[t._v("\n        Avaiable fields are: name, body "),n("br"),t._v("\n        For tips on use go to "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://lunrjs.com/guides/searching.html#wildcards"}},[n("strong",[t._v("Lunr")])])])])}],o=(n("386d"),n("55dd"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ScaleRotate",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.close,expression:"close"}],attrs:{disableOutsideClick:"",noOverlay:"",crossIcon:!1,width:"320",isOpen:t.isOpen},on:{openMenu:function(e){return t.set(!0)},closeMenu:t.close}},[i("div",{staticClass:"flex brand"},[i("img",{attrs:{height:"100px",src:n("d939"),alt:""}}),i("span",{staticClass:"align-self-center"},[t._v("\n            Nanyang\n            Analytica\n        ")])]),t.isOpen?i("div",{staticClass:"row px-4"},[i("div",{staticClass:"col-12"},[i("h5",{staticClass:"text-uppercase"},[t._v("Search")]),i("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{html:"tooltipContent",visible:!t.mobile},expression:"{ html: 'tooltipContent', visible: !mobile }",modifiers:{right:!0}}],staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:t.query.search},on:{input:function(e){e.target.composing||t.$set(t.query,"search",e.target.value)}}})]),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:{content:"Not working yet",visible:!t.mobile},expression:"{ content: 'Not working yet', visible: !mobile }",modifiers:{right:!0}}]},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:""}},[t._v("Gender")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.query.gender,expression:"query.gender"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.query,"gender",e.target.multiple?n:n[0])}}},[i("option",[t._v("Male")]),i("option",[t._v("Female")])])]),i("div",{staticClass:"form-group mb-4"},[i("label",{attrs:{for:"customRange1"}},[t._v("Age: "+t._s(t.query.age[0])+" - "+t._s(t.query.age[1]))]),i("vue-slider",{attrs:{marks:!0,data:t.data,lazy:!0,"enable-cross":!1},model:{value:t.query.age,callback:function(e){t.$set(t.query,"age",e)},expression:"query.age"}})],1)]),i("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning my-2",on:{click:t.submit}},[t._v("Search")])]),i("h5",{staticClass:"text-uppercase mt-4"},[t._v("data")]),i("div",[i("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.split(e)}}},[i("div",{staticClass:"form-group mt-2"},[i("label",{attrs:{for:""}},[t._v("User Names")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currUserName,expression:"currUserName"},{name:"tooltip",rawName:"v-tooltip.top",value:{content:"Type in an username and press space to add",visible:!t.mobile},expression:"{ content: 'Type in an username and press space to add', visible: !mobile }",modifiers:{top:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usernames"},domProps:{value:t.currUserName},on:{input:function(e){e.target.composing||(t.currUserName=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"d-none",attrs:{type:"submit"}}),i("button",{staticClass:"btn btn-outline-warning",on:{click:t.preload}},[t._v("\n                              Random\n                            ")])])])])]),t.splittedNames.length>0?i("div",{staticClass:"row mb-4",staticStyle:{"max-width":"300px"}},t._l(t.splittedNames,function(e){return i("div",{key:e,staticClass:"badge badge-warning m-1 badge-name"},[i("span",[t._v("\n                                "+t._s(e)+" ")]),t._v("\n                            | "),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return t.remove(e)}}},[t._v(" X ")])])}),0):t._e(),i("div",{staticClass:"row justify-content-around"},[i("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"btn btn-warning mb-2",on:{click:function(e){t.loadDynamic(t.splittedNames),t.loadText="Reload"}}},[t._v("\n                          "+t._s(t.loadText)+"\n                        ")]),t.splittedNames.length>0?i("button",{staticClass:"btn btn-warning mb-2",on:{click:function(e){t.splittedNames=[]}}},[t._v("\n                        Clear")]):t._e()])])])]):t._e()])}),s=[],c=(n("28a5"),n("6762"),n("2fdb"),n("db0f")),l=n("4971"),u=n.n(l),d=["katyperry","BarackObama","justinbieber","taylorswift13","ladygaga","TheEllenShow","jtimberlake","ArianaGrande","KimKardashian","realDonaldTrump","selenagomez","britneyspears","jimmyfallon","BillGates","JLo","nytimes","BrunoMars","KingJames","Oprah","MileyCyrus","KevinHart4real","LilTunechi","wizkhalifa","Pink","aliciakeys","chrisbrown","kanyewest","ConanOBrien","KendallJenner","ActuallyNPH","KylieJenner","khloekardashian","pitbull","danieltosh","POTUS","elonmusk","HillaryClinton","kourtneykardash","Eminem","MariahCarey","blakeshelton","NICKIMINAJ","LeoDiCaprio","StephenAtHome","JimCarrey","aplusk","SnoopDogg","KDTrey5","ParisHilton","xtina","camerondallas","RyanSeacrest","ZacEfron","tomhanks","Diddy","POTUS44","Beyonce","Zendaya","SHAQ","maroon5","tyrabanks","BigSean","SethMacFarlane","kobebryant","nickjonas","TreySongz","funnyordie","TheRock","StephenCurry30","VancityReynolds","neiltyson","ashleytisdale","iamwill","stephenfry","RobertDowneyJr","SarahKSilverman","johnlegend","JColeNC","Usher","MichelleObama","kelly_clarkson","markiplier","mindykaling","FLOTUS","kendricklamar","Ludacris","JohnCena","jimmykimmel","charliesheen","MarcAnthony","tim_cook","ciara","BillClinton","billmaher","chrissyteigen","serenawilliams","azizansari","Pharrell","ChrisEvans","VictoriaJustice","halsey","50cent"],f={components:{ScaleRotate:c["ScaleRotate"],VueSlider:u.a},data:function(){return{currUserName:"",splittedNames:[],data:[0,18,23,42,100],loadText:"Load"}},methods:{submit:function(){this.set(!1),this.load()},preload:function(){var t=this;this.splittedNames=this.splittedNames.concat(d.filter(function(e){return!t.splittedNames.includes(e)}).sort(function(){return Math.random()-.5}).slice(0,10))},remove:function(t){this.splittedNames=this.splittedNames.filter(function(e){return e!=t})},close:function(){this.set(!1)},split:function(){this.splittedNames.push(this.currUserName),this.currUserName=""}},watch:{currUserName:function(t){var e=t.split(" ");e.length>1&&(this.splittedNames=this.splittedNames.concat(e.filter(function(t){return t.length>0})),this.currUserName="")}},props:{isOpen:{type:Boolean,required:!0},query:{type:Object,required:!0},set:{type:Function,required:!0},load:{type:Function,required:!0},loadDynamic:{type:Function,required:!0},mobile:{type:Boolean,required:!0}},computed:{useStatic:{get:function(){return!this.fields.dynamic},set:function(t){this.fields.dynamic=!t}}}},h=f,p=(n("2dae"),n("2877")),m=Object(p["a"])(h,o,s,!1,null,null,null),g=m.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===t.twitts.length?n("div",{staticClass:"whole-page"},[n("div",{staticClass:"mx-auto text-center",staticStyle:{width:"250px","margin-top":"20vh"}},[n("span",[t._v("\n            "+t._s(t.text)+"\n        ")]),n("br"),n("br"),n("button",{staticClass:"btn btn-warning",on:{click:t.runAI}},[t._v("WAKE UP THE AI!")])])]):n("div",{staticClass:"list"},[n("div",{staticClass:"d-flex flex-row justify-content-between"},[n("div",{staticClass:"mt-2"},[t.info?n("p",{staticClass:"font-weight-bold"},[t._v("Found "+t._s(t.info.count)+" results in "+t._s(t.info.time)+" Miliseconds")]):t._e()]),n("div",{staticClass:"mb-2"},[n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-warning dropdown-toggle mx-auto",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                    Sort by\n                ")]),n("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[n("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("match"),t.loadPage(1)}}},[t._v("Best Match")]),n("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("lengthDsc"),t.loadPage(1)}}},[t._v("Long to Short")]),n("a",{staticClass:"dropdown-item",on:{click:function(e){t.sort("lengthAsc"),t.loadPage(1)}}},[t._v("Short to Long")])])])])]),t.info.count>0?n("div",{staticClass:"text-center row"},[t._l(t.twitts,function(e,i){return n("div",{key:i,staticClass:"col-lg-6 mb-2",class:{"col-6":t.open}},[n("div",{staticClass:"card hoverable"},[n("div",{staticClass:"row m-4"},[n("div",{staticClass:"col-sm-4 col-12",class:{"col-sm-12 my-4":t.open}},[n("img",{staticClass:"card-img-top",staticStyle:{width:"100px",height:"100px","border-radius":"50%"},attrs:{src:e.photo,alt:"Card image cap"}}),n("h5",{staticClass:"card-title mt-2 mb-0",domProps:{innerHTML:t._s(e.name)}}),n("small",{staticClass:"text-muted mt-0 mb-1"},[t._v(t._s(e.username)+" "+t._s(e.time))])]),t.open?t._e():n("div",{staticClass:"col-sm-8 col-12"},[n("div",{staticClass:"card-body"},[n("p",{staticClass:"card-text",domProps:{innerHTML:t._s(e.body)}}),n("a",{staticClass:"btn btn-warning",attrs:{href:e.link,rel:"noopener noreferrer",target:"_blank"}},[t._v("Go to tweet")])])])])])])}),t.twitts.length<5?n("div",{staticClass:"screen-pusher"}):t._e(),n("nav",{staticClass:"col-12 d-flex justify-content-center",attrs:{"aria-label":"Page navigation example"}},[n("ul",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:".top",expression:"'.top'"}],staticClass:"pagination text-center",staticStyle:{cursor:"pointer"}},t._l(t.noOfPages,function(e){return n("li",{key:e,staticClass:"page-item"},[n("a",{staticClass:"page-link",on:{click:function(n){return t.loadPage(e)}}},[t._v(t._s(e))])])}),0)])],2):t._e()])},w=[],b={name:"twitts",props:{runAI:{type:Function,required:!0},text:{type:String,required:!0},twitts:{type:Array,required:!0},info:{type:Object,required:!0},loadPage:{type:Function,required:!0},sort:{type:Function,required:!0},open:{type:Boolean,required:!0}},computed:{noOfPages:function(){var t=0;return this.info.count&&(t=Math.ceil(this.info.count/8)),t>10&&(t=10),t}}},y=b,x=(n("fd16"),Object(p["a"])(y,v,w,!1,null,null,null)),_=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row",staticStyle:{height:"80px"}},[n("div",{staticClass:"col"},[n("form",{attrs:{action:"#",method:"post"},on:{submit:function(e){return e.preventDefault(),t.load(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query.search,expression:"query.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Keyword"},domProps:{value:t.query.search},on:{input:[function(e){e.target.composing||t.$set(t.query,"search",e.target.value)},t.load],focus:function(e){t.show=!0},blur:function(e){t.show=!1}}}),t.show?n("small",{staticClass:"form-text text-muted mt-0 mb-1"},[t._v("Avaiable fields are: name, body.\n        For tips on use go to "),t._m(0)]):t._e()]),Object.keys(t.filteredQuery).length>0?n("div",{staticClass:"mb-4"},t._l(Object.keys(t.filteredQuery),function(e){return n("span",{key:e,staticClass:"badge badge-warning mx-2"},[t._v("\n                  "+t._s(e)+": "+t._s(t.filteredQuery[e])+" | \n                      "),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return t.reset(e)}}},[t._v(" X ")])])}),0):t._e()])])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://lunrjs.com/guides/searching.html#wildcards"}},[n("strong",[t._v("Lunr")])])}],T=n("a4bb"),O=n.n(T),j=(n("ac6a"),{name:"searchBar",data:function(){return{show:!1}},props:{query:{type:Object,required:!0},load:{type:Function,required:!0}},computed:{filteredQuery:function(){var t=this,e={};return O()(this.query).forEach(function(n){t.query[n]&&(e[n]=t.query[n])}),0===this.query.age[0]&&100===this.query.age[1]&&delete e.age,e},mobile:function(){return this.windowWidth<800}},methods:{reset:function(t){"age"===t?this.query.age=[0,100]:this.query[t]="",this.load()}}}),q=j,S=Object(p["a"])(q,k,C,!1,null,null,null),N=S.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-content-center mx-auto",staticStyle:{width:"200px","margin-top":"20vh"}},[n("div",[n("pacman-loader",{staticClass:"ml-3",attrs:{loading:t.loading,color:"#ffc107",size:"30px"}}),n("p",{staticClass:"mt-2 text-center",domProps:{innerHTML:t._s(t.text)}})],1)])},M=[],A=n("6746"),P={name:"loader",components:{PacmanLoader:A["a"]},props:{loading:{type:Boolean,required:!0},text:{type:String,required:!0}}},D=P,R=Object(p["a"])(D,E,M,!1,null,null,null),B=R.exports,F=(n("b54a"),n("7f7f"),n("cebc")),L=n("795b"),U=n.n(L),I=n("d225"),W=n("b0b4"),z=n("bd86"),J=n("2f21"),Q=n.n(J),H=!0,K=H,$=function(){function t(){Object(I["a"])(this,t)}return Object(W["a"])(t,null,[{key:"init",value:function(){var t=this,e=K?"search engine init":"search engine not active";return console.log(e),new U.a(function(e){if(!K)return e();console.log("loading indexing..."),fetch("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/client/backend/search/index.json").then(function(t){return t.json()}).then(function(n){t.idx=Q.a.Index.load(n),console.log("loading store..."),fetch("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/client/backend/search/store.json").then(function(t){return t.json()}).then(function(n){t.store=n,console.log("search engine loaded"),e()})})})}},{key:"search",value:function(t){var e=this,n={twitts:[],time:""},i=new Date;this.idx.search(t).forEach(function(t){var i=t.matchData;n.twitts.push(Object(F["a"])({},e.store[t.ref],{positions:i,score:t.score}))});var a=new Date-i;return n.time=a,console.log("Found "+n.twitts.length+" results in "+a+" Miliseconds"),n}},{key:"load",value:function(t){var e=[];for(var n in t)e=e.concat(t[n]);e=e.sort(function(){return Math.random()-.5});var i={},a=Q()(function(){this.ref("id"),this.field("body"),this.field("name"),this.metadataWhitelist=["position"],e.forEach(function(t){this.add({id:t.id,body:t.body,name:t.author.name}),i[t.id]={username:t.author.username,name:t.author.name,profile:t.author.link,photo:t.author.img,time:t.time,link:t.link,body:t.body}},this)});this.idx=a,this.store=i}}]),t}();Object(z["a"])($,"idx",void 0),Object(z["a"])($,"store",void 0);var G=n("9669"),V=n.n(G),X=n("5118");function Z(t,e){var n=t.metadata,i={};for(var a in n){var r=function(t){i[t]=[],n[a][t].position.forEach(function(e){i[t].push(e)})};for(var o in n[a])r(o)}var s=function(t){c=0,i[t].sort(function(t,e){return t[0]-e[0]}).forEach(function(n){var i=e[t];e[t]=i.slice(0,n[0]+c)+"<mark>"+i.slice(n[0]+c,n[0]+n[1]+c)+"</mark>"+i.slice(n[0]+n[1]+c),c+=13})};for(var o in i){var c;s(o)}return e}var Y={" ":1,e:2,o:3,t:4,a:5,i:6,n:7,s:8,r:9,l:10,h:11,d:12,u:13,m:14,y:15,c:16,g:17,w:18,p:19,"?":20,f:21,".":22,b:23,"@":24,k:25,v:26,I:27,"~":28,"#":29,T:30,A:31,"'":32,S:33,"!":34,",":35,E:36,C:37,M:38,"-":39,'"':40,":":41,O:42,N:43,R:44,P:45,H:46,L:47,D:48,W:49,B:50,F:51,G:52,1:53,")":54,0:55,x:56,j:57,"(":58,Y:59,2:60,"+":61,U:62,"\n":63,J:64,3:65,z:66,K:67,V:68,"/":69,4:70,"‚Äú":71,5:72,"‚Äù":73,"&":74,q:75,">":76,9:77,"‚Äô":78,8:79,"<":80,6:81,7:82,"[":83,"]":84,"*":85,Q:86,"|":87,"‚Äì":88,";":89,"‚Ä¶":90,Z:91,X:92};function tt(t,e){return new U.a(function(n,i){e.loadLayersModel("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/codes/models/gender3/model.json").then(function(e){var a=[],r=function(r){console.log("predicting "+r);var o=e.predict(t[r]);o.array().then(function(t){var e=t.map(function(t){return t[0]}),i=0;e.forEach(function(t){return i+=t}),a.push({user:r,gender:i/e.length<.5?"male":"female",average:i/e.length,predictions:e}),n(a)}).catch(function(t){console.log("Failed exporting the predictions to an array"),i(t)})};for(var o in t)r(o)}).catch(function(t){console.log("Failed loading the model"),i(t)})})}var et=n("0b53"),nt=2e3,it=92,at=60,rt=function(){function t(){Object(I["a"])(this,t)}return Object(W["a"])(t,null,[{key:"init",value:function(){var t=this;return console.log("ai engine init"),new U.a(function(e){console.log("loading data..."),fetch("https://raw.githubusercontent.com/zuberek/nanyang-analytica/master/client/backend/data/data.json").then(function(t){return t.json()}).then(function(n){t.data=ot(n.slice(0,nt)),e()})})}},{key:"predictGender",value:function(){var t=this;return new U.a(function(e,n){tt(t.data,et).then(function(t){return e(t)}).catch(function(t){return n(t)})})}}]),t}();function ot(t){var e={};for(var n in t.forEach(function(t){var n=t.author;n||console.log(t),e[n.username]||(e[n.username]=[]),e[n.username].push(t.body)}),console.log("predicting "+O()(e).length+" users"),console.log("preprocessing..."),e){var i=e[n];e[n]=i.map(function(t){return t=st(t),t}),e[n]=et["stack"](e[n])}return e}function st(t){var e=t.split("");e=e.map(function(t){return Y[t]?Y[t]:Y["+"]}),e=e.slice(0,at),e=et["oneHot"](e,it);var n=[[0,Math.abs(60-e.shape[0])],[0,0]];return e=e.pad(n),e}Object(z["a"])(rt,"data",void 0);var ct={hello:"Hello! ü§ó To search Twitter type in a keyword or go to options",error:"Oh no ü•µ We couldn't find anything that matches your query",search:"Oi ü§® We need something to search for"},lt=ct,ut={name:"app",components:{Sidebar:g,Twitts:_,SearchBar:N,Loader:B},data:function(){return{msg:lt,sidebarOpen:!1,searchQuery:{search:"",gender:"",age:[0,100]},pending:!1,loadingText:"We're working on it...",pageText:lt.hello,page:1,twitts:{},windowWidth:window.innerWidth}},params:{searchQuery:Object,sidebarOpen:Boolean},computed:{info:function(){var t={};return this.twitts.twitts&&(t.count=this.twitts.twitts.length),this.twitts.time&&(t.time=this.twitts.time),t},displayedTwitts:function(){if(!this.twitts.twitts)return[];for(var t=[],e=8*(this.page-1);e<8*this.page;e++)this.twitts.twitts[e]&&t.push(this.twitts.twitts[e]);return t.map(function(t){return Z(t.positions,t)})},mobile:function(){return this.windowWidth<800}},mounted:function(){var t=this;this.start("Waking up the <br> search engine"),this.$nextTick(function(){Object(X["setTimeout"])(function(){$.init().then(function(){t.pending=!1})},1),window.addEventListener("resize",function(){t.windowWidth=window.innerWidth})})},methods:{setSidebarOpen:function(t){this.sidebarOpen=t},sortBy:function(t){switch(t){case"match":this.twitts.twitts.sort(function(t,e){return e.score-t.score});break;case"lengthDsc":this.twitts.twitts.sort(function(t,e){return e.body.length-t.body.length});break;case"lengthAsc":this.twitts.twitts.sort(function(t,e){return t.body.length-e.body.length});break;default:break}},loadTwitts:function(){var t=this;this.cleanSeach(),this.start("We're working on it..."),Object(X["setTimeout"])(function(){if(!t.searchQuery.search)return t.pageText=lt.search,t.twitts=[],void(t.pending=!1);var e=$.search(t.searchQuery.search),n=t.searchQuery,i=n.age,a=n.gender;a=a.toLowerCase(),a&&(e.twitts=e.twitts.filter(function(t){return t.gender===a})),0===i[0]&&100===i[1]||(e.twitts=e.twitts.filter(function(t){return t.age>=i[0]&&t.age<=i[1]})),t.twitts=e,t.page=1,0===e.twitts.length&&(t.pageText=lt.error),Object(X["setTimeout"])(function(){t.pending=!1},500)},10)},loadPage:function(t){t-1<1&&(t=1),t+1>10&&(t=10),this.page=t},loadDynamicData:function(t){var e=this;this.start("Fetching from Twitter..."),Object(X["setTimeout"])(function(){var n={profiles:t,showRetweets:!1,showEmpty:!1};V()(n).then(function(t){e.loadingText="Indexing your tweets...",$.load(t),e.loadingText="Quering the store...",e.loadTwitts()})},10)},runAI:function(){var t=this;this.start("Waking up the AI ü§ñ...<br>Feedback in console"),rt.init().then(function(){t.loadingText="Waking up the AI ‚úîÔ∏è<br>Predicting gender...",Object(X["setTimeout"])(function(){rt.predictGender().then(function(e){t.loadingText=t.loadingText+" ‚úîÔ∏è<br>Success",console.log(e)})},10)})},start:function(t){this.pending=!0,this.sidebarOpen=!1;var e=t||"We`re working on it...";this.loadingText=e},cleanSeach:function(){this.search="",this.gender="",this.age=[0,100]}}},dt=ut,ft=(n("034f"),Object(p["a"])(dt,a,r,!1,null,null,null)),ht=ft.exports,pt=(n("4989"),n("ab8b"),n("3222")),mt=n.n(pt),gt=(n("cfbd6"),n("fe56")),vt=n("a2df"),wt=n.n(vt);i["default"].use(mt.a),i["default"].use(gt["a"]),i["default"].use(wt.a),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(ht)}}).$mount("#app")},6:function(t,e){},"64a9":function(t,e,n){},7:function(t,e){},8:function(t,e){},"8fba":function(t,e,n){n("28a5");var i=n("795b"),a=n("cfae"),r=n("2445"),o=n("53bb"),s=function(t){this.noOfTweets=t.noOfTweets,this.url=t.url,this.extractor=new a(t),t.browser?(this.fetch=o.fetch,window.__twttr=o):this.fetch=r};function c(t,e){var n=t.split("&");return"max_position"===n[n.length-1].slice(0,12)&&(t=t.slice(0,t.length-(n[n.length-1].length+1))),t+="&max_position="+e,t}s.prototype.getTweets=function(t){var e=this;return new i(function(n,i){t.length>=e.noOfTweets?n(t):e.fetch(e.url).then(function(i){if(!i.body)return console.log("Failed a request! Url: "+e.url),void n(t);var a=e.extractor.extract(i.body);0!==a.length?(t=t.concat(a),e.url=c(e.url,i.headers.minPosition),e.getTweets(t).then(function(t){n(t)}).catch(function(i){console.log("Couldn't extract from: "+e.url+"\n"+i),n(t)})):n(t)})})},t.exports=s},9279:function(t,e,n){t.exports=n.p+"img/logo-black.83defbb4.png"},9669:function(t,e,n){n("ac6a");var i=n("795b"),a=n("8fba"),r=n("e2a0");function o(t){return new i(function(e,n){var i={};t.profiles.forEach(function(o){var c=r.getConfig(t);c.profile=o,c.url=r.getUrl(c),c.url||n(new Error("Invalid configuration!"));var l=new a(c),u=[];l.getTweets(u).then(function(n){i[o]=n.slice(0,c.noOfTweets),s(t,i)&&e(i)})})})}function s(t,e){var n=!0;return t.profiles.forEach(function(t){e[t]||(n=!1)}),n}"undefined"!==typeof window&&(window.extract=o),t.exports=o},cfae:function(t,e,n){n("7514");var i=n("02cc"),a=function(t){this.showAuthor=t.showAuthor,this.showRetweets=t.showRetweets,this.showMedia=t.showMedia,this.showEmpty=t.showEmpty};a.prototype.extract=function(t){var e=i.load(t),n=[],a=this;return e.root().find(".timeline-Tweet").map(function(t,i){var r={};if(e(this).find(".timeline-Tweet-retweetCredit").length>0?r.isRetweet=!0:r.isRetweet=!1,!r.isRetweet||r.isRetweet&&a.showRetweets){if(r.id=e(this).attr("data-tweet-id"),r.body=e(this).find(".timeline-Tweet-text").text(),r.time=e(this).find(".dt-updated").text().slice(6),r.timestamp=e(this).find(".dt-updated").attr("datetime"),r.link=e(this).find(".timeline-Tweet-timestamp").attr("href"),a.showAuthor){var o=e(this).find(".timeline-Tweet-author");r.author={},r.author.name=o.find(".TweetAuthor-name").text(),r.author.username=o.find(".TweetAuthor-screenName ").text(),r.author.link=o.find(".TweetAuthor-link").attr("href"),r.author.img=o.find(".Avatar").attr("data-src-2x")}if(a.showMedia){var s=e(this).find(".timeline-Tweet-media");s.hasClass("timeline-Tweet-media")&&(r.media=[],s.find("img").map(function(t,n){e(this).attr("data-image")&&r.media.push(e(this).attr("data-image")+"?format=jpg&name=large")}),0===r.media.length&&delete r.media)}(r.body||a.showEmpty)&&n.push(r)}}),n},t.exports=a},d939:function(t,e,n){t.exports=n.p+"img/logo-white.414824de.png"},dc9f:function(t,e,n){},e2a0:function(t,e){var n="https://syndication.twitter.com/timeline/",i="?callback=__twttr.callback&dnt=false&suppress_response_codes=true&rnd="+Math.random();function a(t){var e={};return e.showAuthor="undefined"===typeof t.showAuthor||t.showAuthor,e.showRetweets="undefined"===typeof t.showRetweets||t.showRetweets,e.showMedia="undefined"===typeof t.showMedia||t.showMedia,e.showEmpty="undefined"===typeof t.showEmpty||t.showEmpty,e.noOfTweets=t.noOfTweets?t.noOfTweets:20,e.browser="undefined"!==typeof window,e.lang=t.lang?t.lang:"en",e}function r(t){var e="";return t.profile&&(e=o(t)),t.likes&&(e=s(t)),t.list&&(e=c(t)),e}function o(t){return n+"profile"+i+"&screen_name="+t.profile+"&lang="+t.lang}function s(t){return n+"likes"+i+"&screen_name="+t.profile+"&lang="+t.lang}function c(t){return n+"list"+i+"&screen_name="+t.profile+"&list_slug="+t.list+"&lang="+t.lang}t.exports={getConfig:a,getUrl:r}},fd16:function(t,e,n){"use strict";var i=n("1d62"),a=n.n(i);a.a}});
//# sourceMappingURL=app.8b77e1b6.js.map